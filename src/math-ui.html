<style>
math-ui {
    position: relative;
    border: 0.2em solid transparent;
    border-radius: 0.5em;
    padding: 0.1em;
    margin: -0.3em;
    outline: none;
    cursor: pointer;
    display: inline-block;
}
math-ui[display="block"] {
    display: block;
}
math-ui:focus {
    border: 0.2em solid #4f9fcf;
}
</style>

<script>
(function() {

    console.log('math-ui.html');

    var element = Object.create(HTMLElement.prototype);

    element.createdCallback = function () {
        var root = this.createShadowRoot();
        var c = document.createElement('content');
        root.appendChild(c);
        this.tabIndex = 0;
    };

    element.attachedCallback = function () {
        var children = Array.prototype.filter.call(this.childNodes, function (item) {
            return item.nodeType !== Node.TEXT_NODE || item.nodeValue.trim().length > 0;
        });
        console.log('attached', children);
        if (children.length === 1) {
            var c = children[0];
            console.log('display', c.getAttribute('display'));
        }
    };
    
    /*element.detachedCallback = function() {};
    element.attributeChangedCallback = function(attr, oldVal, newVal) {};*/

    document.registerElement('math-ui', {prototype: element});
})();
</script>
